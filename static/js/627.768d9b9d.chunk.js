"use strict";(self.webpackChunkbroker_ui=self.webpackChunkbroker_ui||[]).push([[627],{75605:function(e,n,a){a.d(n,{F_:function(){return d},Kc:function(){return l},Yt:function(){return r},rU:function(){return t},rc:function(){return c},wn:function(){return i},xK:function(){return s},zP:function(){return o}});var t="First Name",r="Last Name",s="Email",i="firstName",l="lastName",o="email",c="id",d="Admins"},12593:function(e,n,a){a(72791);var t=a(13239),r=a(3383),s=a(80184);n.Z=function(e){var n=e.loading,a=e.actionState,i=e.disable;return(0,s.jsx)(r.Z,{disable:i,loading:n,value:n?(0,s.jsx)(t.Z,{color:"inherit",size:22}):a?"Submit":"Create"})}},8793:function(e,n,a){a(72791);var t=a(64554),r=a(53994),s=a(56890),i=a(35855),l=a(80720),o=a(95573),c=a(80184);n.Z=function(e){var n=e.headCells,a=e.order,d=e.orderBy,u=e.onRequestSort;return(0,c.jsx)(s.Z,{className:"table-head",children:(0,c.jsx)(i.Z,{className:"bg-header",children:n.map((function(e){return(0,c.jsx)(r.Z,{align:e.align,className:"row-heading",padding:"none",style:{padding:10,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.25rem"},sortDirection:d===e.id&&a,children:e.sort?(0,c.jsxs)(l.Z,{direction:d===e.id?a:"asc",onClick:(n=e.id,function(e){u(e,n)}),children:[e.label,d===e.id?(0,c.jsx)(t.Z,{component:"span",sx:o.Z,children:"desc"===a?"sorted descending":"sorted ascending"}):null]}):e.label},e.id);var n}))})})}},54858:function(e,n,a){a.d(n,{IQ:function(){return o},Kc:function(){return d},Pq:function(){return x},Yt:function(){return r},d7:function(){return f},iJ:function(){return m},nb:function(){return p},o4:function(){return l},pK:function(){return i},rU:function(){return t},rc:function(){return g},wG:function(){return h},wn:function(){return c},xK:function(){return s},xf:function(){return b},zP:function(){return u}});var t="First Name",r="Last Name",s="Email",i="Contact Number",l="Address",o="Date of Birth",c="firstName",d="lastName",u="email",m="contactNumber",f="number",h="address",b="dob",x="date",g="id",p="Users"},94021:function(e,n,a){a(72791),a(80184)},99911:function(e,n,a){var t=a(70885),r=a(72791),s=a(24518),i=a(5289),l=a(80184);n.Z=function(e){var n=r.useState(!1),a=(0,t.Z)(n,2),o=a[0],c=a[1];r.useEffect((function(){c(e.visible)}),[e.visible,e.message,e.header]);var d=function(){c(!1)};return(0,l.jsx)("div",{children:(0,l.jsx)(i.Z,{id:"dialog-component",open:o,onClose:d,classes:{paper:"shadow-sm-dark rounded-sm dialoge-cont"},children:(0,l.jsxs)("div",{className:"text-center p-6",id:"dbox",children:[(0,l.jsx)("h4",{className:"font-weight-bold mt-4 dialoge-heading",children:e.header}),(0,l.jsx)("p",{className:"mb-0 text-black-50 dialoge-message",children:e.message}),(0,l.jsxs)("div",{className:"pt-1",children:[(0,l.jsx)(s.Z,{onClick:d,className:"dialoge-cancel-btn",id:"dbox-cancel",children:(0,l.jsx)("span",{className:"btn-wrapper--label",children:"No"})}),(0,l.jsx)(s.Z,{onClick:function(){e.ok(),d()},className:"dialoge-confirm-btn",id:"dbox-ok",children:(0,l.jsx)("span",{className:"btn-wrapper--label",children:"Yes"})})]})]})})})}},86197:function(e,n,a){a(72791);var t=a(4998),r=a(46904),s=a(80184);n.Z=function(e){var n=e.label,a=e.value,i=e.onChange,l=e.name,o=e.error,c=e.helperText,d=e.type,u=e.disabled,m=e.format,f=void 0===m?"dd/MM/yyyy":m,h=e.placeholder,b=e.shrink,x=e.InputProps;return e.inputProps,(0,s.jsx)(t.Z,{fullWidth:!0,type:d||r.lD,className:"custom-text-field",label:n,value:a,onChange:i,placeholder:h||"",size:r.HC,name:l,error:o,helperText:c,disabled:u||!1,format:"date"===d?f:"",InputLabelProps:b?{shrink:b}:null,InputProps:x||null})}},58746:function(e,n,a){a.d(n,{Z:function(){return h}});var t=a(1413),r=a(45987),s=(a(72791),a(47630)),i=a(5289),l=a(65661),o=a(13400),c=a(29823),d=a(80184),u=["children","onClose"],m=(0,s.ZP)(i.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}})),f=function(e){var n=e.children,a=e.onClose,s=(0,r.Z)(e,u);return(0,d.jsxs)(l.Z,(0,t.Z)((0,t.Z)({sx:{m:0,p:2,display:"flex",justify:"between"}},s),{},{children:[n,a?(0,d.jsx)(o.Z,{"aria-label":"close",onClick:a,sx:{background:"#FFFFFF",overflowY:"unset",position:"absolute",left:"92%",top:"6%",color:function(e){return e.palette.grey[500]},"&:hover":{background:"#FFFFFF"}},children:(0,d.jsx)(c.Z,{})}):null]}))};function h(e){var n=e.onClose,a=e.open,t=e.title,r=e.maxWidth,s=e.children;return(0,d.jsx)("div",{children:(0,d.jsxs)(m,{onClose:n,"aria-labelledby":"customized-dialog-title",fullWidth:!0,maxWidth:r||"md",open:a,className:"dialog-modal-cont dark:dialog-modal-cont-dark",children:[(0,d.jsx)(f,{className:"modal-box-header",id:"customized-dialog-title",onClose:n,children:(0,d.jsx)("span",{className:"p-2",children:t})}),s]})})}},23347:function(e,n,a){a(72791);var t=a(9955),r=a(80184);n.Z=function(e){var n=e.disabled,a=e.checked,s=e.handleChange;return(0,r.jsx)(t.Z,{disabled:n,checked:a||!1,onChange:s,className:"custom-switch"})}},57150:function(e,n,a){var t=a(74569),r=a.n(t),s=a(17406),i=r().create({baseURL:s.K});n.Z=i},8106:function(e,n,a){a.d(n,{D:function(){return s},E:function(){return r}});var t=a(763),r=function(){return new Promise((function(e){var n=localStorage.getItem("token");e(n?{headers:{authorization:"Bearer "+n}}:null)}))},s=function(e){var n="Something went wrong, Please try again.";return e.message&&(0,t.isArray)(e.message)?(n=e.message[0],n=!(0,t.isString)(n)&&(0,t.isArray)(n)?n[0]&&n[0].msg?n[0].msg:n[0]:n.msg):(e.message&&(0,t.isString)(e.message)&&(n=e.message),e.message&&(0,t.isString)(e.message)&&(n=e.message)),"Invalid login credentials. Please try again."===n&&(n="Email and password is invalid!"),n}},6177:function(e,n,a){a.d(n,{AX:function(){return m},WH:function(){return f},Wp:function(){return h},fo:function(){return d},qK:function(){return u}});var t,r,s,i,l,o=a(30168),c=a(87743),d=(0,c.Ps)(t||(t=(0,o.Z)(["\n  query Query(\n    $page: Int\n    $offset: Int\n    $userName: String\n    $email: String\n    $mobile: String\n    $role: String\n  ) {\n    users(\n      page: $page\n      offset: $offset\n      userName: $userName\n      email: $email\n      mobile: $mobile\n      role: $role\n    ) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        dob\n        role\n        mobile\n        walletAddress\n        address\n        enabled\n      }\n      count\n      current\n      total\n    }\n  }\n"]))),u=(0,c.Ps)(r||(r=(0,o.Z)(["\n  mutation Mutation($firstName: String, $lastName: String, $email: String) {\n    createUser(firstName: $firstName, lastName: $lastName, email: $email) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        role\n        mobile\n        walletAddress\n        enabled\n      }\n    }\n  }\n"]))),m=(0,c.Ps)(s||(s=(0,o.Z)(["\n  mutation Mutation(\n    $updateUserId: ID\n    $firstName: String\n    $lastName: String\n    $email: String\n    $dob: String\n    $walletAddress: String\n    $contactNumber: String\n    $address: String\n  ) {\n    updateUser(\n      id: $updateUserId\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      dob: $dob\n      walletAddress: $walletAddress\n      contactNumber: $contactNumber\n      address: $address\n    ) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        mobile\n        walletAddress\n        address\n        dob\n      }\n    }\n  }\n"]))),f=(0,c.Ps)(i||(i=(0,o.Z)(["\n  mutation EnableDisableUser($id: ID, $enabled: Boolean) {\n    enableDisableUser(id: $id, enabled: $enabled) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        role\n        mobile\n        walletAddress\n        enabled\n      }\n    }\n  }\n"]))),h=(0,c.Ps)(l||(l=(0,o.Z)(["\n  mutation AssignManagerRole($id: ID, $title: String) {\n    assignManagerRole(id: $id, title: $title) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        role\n        mobile\n        walletAddress\n        enabled\n      }\n    }\n  }\n"])))},78914:function(e,n,a){a(72791)},44627:function(e,n,a){a.r(n),a.d(n,{default:function(){return ke}});var t=a(72791),r=a(1413),s=a(74165),i=a(15861),l=a(70885),o=a(30373),c=a(62797),d=a(97892),u=a.n(d),m=/^[A-Za-z][a-zA-Z ]+$/i,f={firstName:"",lastName:"",email:"",dob:"",contactNumber:"",address:"",id:""},h=c.Ry().shape({firstName:c.Z_().required("First Name is required!").min("2","Min 2 characters required!").max("20","Maximum 20 characters allowed!").matches(m,"Only Alphabet is required!"),lastName:c.Z_().required("Last Name is required!").min("2","Min 2 characters required!").max("20","Maximum 20 characters allowed!").matches(m,"Only Alphabet is required!"),email:c.Z_().email("Invalid email address!").required("Email is required!"),dob:c.hT().optional().notRequired().test("dob","You must be at least 18 years old",(function(e){return void 0===e||u()().diff(new Date(e),"years")>18})),contactNumber:c.Z_().optional().min("10","Mobile number must be between 10 to 13 characters").max("13","Mobile number must be between 10 to 13 characters").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Only numbers allowed!")}),b=[{id:"select",numeric:!0,disablePadding:!0,label:"Select",sort:!0},{id:"userName",numeric:!0,disablePadding:!0,label:"User Name",sort:!1},{id:"userId",numeric:!0,disablePadding:!0,label:"User ID",sort:!1},{id:"email",numeric:!0,disablePadding:!1,label:"Email",sort:!0},{id:"contact",numeric:!0,disablePadding:!1,label:"Contact",sort:!1},{id:"address",numeric:!0,disablePadding:!0,label:"Address",sort:!1},{id:"updateDetails",numeric:!0,disablePadding:!1,label:"Update Details",sort:!1},{id:"enabled",numeric:!0,disablePadding:!1,label:"Status",sort:!1},,{id:"userControl",numeric:!0,disablePadding:!1,label:"User Control",sort:!1},{id:"assignUSDC",numeric:!0,disablePadding:!1,label:"Assign USDC",sort:!1},{id:"reports",numeric:!0,disablePadding:!1,label:"Reports",sort:!1}],x=a(79836),g=a(53382),p=a(53994),Z=a(39281),N=a(13400),v=a(35855),j=a(20068),w=a(24518),C=a(8793),S=a(56355);function k(e,n,a){return n[a]<e[a]?-1:n[a]>e[a]?1:0}function P(e,n){return"desc"===e?function(e,a){return k(e,a,n)}:function(e,a){return-k(e,a,n)}}function y(e,n){var a=e.map((function(e,n){return[e,n]}));return a.sort((function(e,a){var t=n(e[0],a[0]);return 0!==t?t:e[1]-a[1]})),a.map((function(e){return e[0]}))}a(94021);var $=a(80184),F=a(60515),U=a(54858),A=a(46904),D=a(78885),T=a(23179),M=a(23347),z=function(){var e=t.useState(1),n=(0,l.Z)(e,2),a=n[0],r=n[1];return(0,$.jsxs)("div",{className:"flex",children:[(0,$.jsx)(j.Z,{title:"Increase USDC",children:(0,$.jsxs)("div",{children:[" ",(0,$.jsx)(w.Z,{className:"plus-button","aria-label":"increase",onClick:function(){r(a+1)},children:(0,$.jsx)(S.wEH,{})})]})}),(0,$.jsx)(j.Z,{title:"Decrease USDC",children:(0,$.jsxs)("div",{children:[" ",(0,$.jsx)(w.Z,{className:"minus-button","aria-label":"reduce",onClick:function(){r(Math.max(a-1,0))},children:(0,$.jsx)(S.iFH,{})})]})})]})},E=a(763),V=a.n(E),I=a(2199),R=a(53767),L=a(13208),q=a(35527),H=a(68610),B=a(84638),O=a(25028),W=function(e){var n=e.options,a=e.id,s=e.onHandleAssignRole,i=e.role,o=(e.refreshUsersList,t.useState(!1)),c=(0,l.Z)(o,2),d=c[0],u=c[1],m=t.useRef(null),f=t.useState(1),h=(0,l.Z)(f,2),b=h[0],x=h[1];(0,t.useEffect)((function(){x(V().indexOf(n,V().capitalize(i&&"user"===i?"viewer":i)))}),[i]);var g=function(e){m.current&&m.current.contains(e.target)||u(!1)};return(0,$.jsxs)(t.Fragment,{children:[(0,$.jsx)(I.Z,{variant:"contained",ref:m,"aria-label":"split button",className:"split-button-cont",children:(0,$.jsxs)(w.Z,{className:["split-button-primary","split-button-warning"][b],variant:"outlined",size:"small","aria-controls":d?"split-button-menu":void 0,"aria-expanded":d?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",disabled:"manager"===n[b].toLowerCase(),onClick:function(){u((function(e){return!e}))},children:[n[b],(0,$.jsx)(S.iUH,{className:"ml-2"})]})}),(0,$.jsx)(H.Z,{open:d,anchorEl:m.current,role:void 0,transition:!0,children:function(e){var t=e.TransitionProps,i=e.placement;return(0,$.jsx)(L.Z,(0,r.Z)((0,r.Z)({},t),{},{style:{transformOrigin:"bottom"===i?"center top":"center bottom"},children:(0,$.jsx)(q.Z,{children:(0,$.jsx)(R.Z,{onClickAway:g,children:(0,$.jsx)(O.Z,{id:"split-button-menu",autoFocusItem:!0,children:n.map((function(e,t){return(0,$.jsx)(B.Z,{disabled:"Viewer"===n[t],selected:t===b,onClick:function(n){s(a&&a,V().toLower("Viewer"===e?"User":e)),u(!1)},children:e},e)}))})})})}))}})]})},K=a(99911),_=a(75605),Y=function(e){var n=e.data,a=e.loading,c=e.onClickEdit,d=e.onHandleEnableChange,u=e.onHandleAssignRole,m=e.page,f=e.setPage,h=e.rowsPerPage,k=(e.handleChangePage,e.refreshUsersList),E=(e.onResentInvitation,e.filterBy),I=e.isOpen,R=e.openFilterModal,L=(0,t.useState)([]),q=(0,l.Z)(L,2),H=q[0],B=q[1],O=(0,t.useState)([]),Y=(0,l.Z)(O,2),J=Y[0],G=Y[1],Q=(0,t.useState)(A.aW),X=(0,l.Z)(Q,2),ee=X[0],ne=X[1],ae=(0,t.useState)(_.zP),te=(0,l.Z)(ae,2),re=te[0],se=te[1],ie=(0,t.useState)(!1),le=(0,l.Z)(ie,2),oe=le[0],ce=le[1],de=(0,t.useState)({visible:!1}),ue=(0,l.Z)(de,2),me=ue[0],fe=ue[1];(0,t.useEffect)((function(){n?(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(n&&n.data&&n.data.length>0?n.data:[]),G(n&&n.data&&n.data.length>0?n.data:[]);case 2:case"end":return e.stop()}}),e)})))():(B([]),G([]),f(1))}),[n]);var he=(0,t.useCallback)((function(e){e||B(J),B(function(e,n){return n.filter((function(n){var a=!1;return!a&&n.firstName&&(a=n.firstName.includes(e.toLowerCase())),!a&&n.lastName&&(a=n.lastName.includes(e.toLowerCase())),!a&&n.email&&(a=n.email.includes(e.toLowerCase())),a}))}(e,J))}),[J]),be=(0,t.useCallback)((function(e,n){var a=re===n&&ee===A.aW;ne(a?A.jo:A.aW),se(n)}),[ee,re]);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(K.Z,(0,r.Z)({},me)),(0,$.jsx)(D.Z,{data:H,setData:G,page:m,count:n&&n.count,rowsPerPage:h,setPage:f,onSearch:he,type:"button",filterBy:E,disable:I,openFilterModal:R}),(0,$.jsx)(Z.Z,{className:"table-cont overflow-auto",children:(0,$.jsxs)(x.Z,{sx:{width:"100%"},"aria-labelledby":U.nb,children:[(0,$.jsx)(C.Z,{order:ee,orderBy:re,onRequestSort:be,headCells:b}),(0,$.jsx)(g.Z,{children:a?(0,$.jsx)(F.Mb,{headCells:b}):H&&H.length>0?y(H,P(ee,re)).map((function(e,n){return(0,$.jsxs)(v.Z,{children:[(0,$.jsx)(p.Z,{align:A.dv,style:{textTransform:"capitalize"},className:"row-cell",children:(0,$.jsx)(T.Z,{checked:oe,handleChange:function(){return ce(!oe)}})}),(0,$.jsx)(p.Z,{align:A.dv,style:{textTransform:"capitalize"},className:"row-cell",children:e.firstName+" "+e.lastName}),(0,$.jsx)(p.Z,{align:A.dv,style:{textTransform:"capitalize"},className:"row-cell",children:n+1}),(0,$.jsx)(p.Z,{align:A.dv,className:"row-cell",children:e.email}),(0,$.jsx)(p.Z,{align:A.dv,style:{textTransform:"capitalize"},className:"row-cell",children:e.mobile}),(0,$.jsx)(p.Z,{align:A.dv,style:{textTransform:"capitalize"},className:"row-cell",children:e.address}),(0,$.jsx)(p.Z,{align:A.dv,style:{textTransform:"capitalize"},className:"row-cell",children:(0,$.jsx)("div",{className:"flex items-center justify-center",children:(0,$.jsx)(j.Z,{title:"Edit User",children:(0,$.jsxs)("div",{children:[" ",(0,$.jsx)(N.Z,{"aria-label":A.dm,size:A.HC,onClick:function(){return c(e)},className:"dark:text-blue-600",children:(0,$.jsx)(o.EditIcon,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})})]})})})}),(0,$.jsx)(p.Z,{align:A.dv,className:"row-cell",children:(0,$.jsx)(j.Z,{title:e.enabled?"User Enabled":"User Disabled",children:(0,$.jsxs)("div",{children:[" ",(0,$.jsx)(M.Z,{disabled:!1,checked:e.enabled,handleChange:function(n){return a=n.target.checked,t=e.id,void fe({id:t,visible:!0,header:a?"Unsuspend User?":"Suspend User?",message:"Are you sure you want to do this?",key:Math.random().toString(36).substring(6),ok:function(){return d(a,t)}});var a,t}})]})})}),(0,$.jsx)(p.Z,{align:A.dv,className:"row-cell",children:(0,$.jsx)(j.Z,{title:"user"===V().lowerCase(e.role)?"Switch To Manager":"Manager",children:(0,$.jsxs)("div",{children:[" ",(0,$.jsx)(W,{onHandleAssignRole:u,options:["Viewer","Manager"],id:e.id,role:e.role,refreshUsersList:k})]})})}),(0,$.jsx)(p.Z,{align:A.dv,className:"row-cell",children:(0,$.jsx)(z,{})}),(0,$.jsx)(p.Z,{align:A.dv,className:"row-cell",children:(0,$.jsx)(j.Z,{title:"Download Report",children:(0,$.jsxs)("div",{children:[" ",(0,$.jsxs)(w.Z,{className:"dropdown-btn",variant:"outlined",size:"small",disabled:!1,onClick:function(){},children:[(0,$.jsx)("span",{children:"Download"}),(0,$.jsx)(S.iUH,{className:"ml-2"})]})]})})})]},e.id)})):(0,$.jsx)(F.zI,{headCells:b})})]})})]})},J=(a(78914),a(24566)),G=a(58746),Q=a(55705),X=a(61889),ee=a(39157),ne=a(97123),ae=a(12593),te=a(86197),re=function(e){var n=e.loading,a=e.touched,r=e.values,s=e.errors,i=e.handleChange,l=e.handleSubmit,o=e.setFieldValue,c=e.actionState,d=e.admin;return(0,t.useEffect)((function(){d&&(o(U.wn,d.firstName),o(U.Kc,d.lastName),o(U.zP,d.email),o(U.rc,d.id),o(U.xf,d.dob),o(U.iJ,d.mobile),o(U.wG,d.address))}),[d]),(0,$.jsxs)("form",{onSubmit:l,autoComplete:"off",children:[(0,$.jsxs)(ee.Z,{dividers:!0,children:[(0,$.jsxs)(X.ZP,{container:!0,children:[(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:!0===c?4:6,lg:!0===c?4:6,className:"p-2",children:(0,$.jsx)(te.Z,{label:U.rU,value:r.firstName,onChange:i,name:U.wn,error:a.firstName&&Boolean(s.firstName),helperText:a.firstName&&s.firstName})}),(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:!0===c?4:6,lg:!0===c?4:6,className:"p-2",children:(0,$.jsx)(te.Z,{label:U.Yt,value:r.lastName,onChange:i,name:U.Kc,error:a.lastName&&Boolean(s.lastName),helperText:a.lastName&&s.lastName})}),!0===c&&(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:!0===c?4:6,lg:!0===c?4:6,className:"p-2",children:(0,$.jsx)(te.Z,{type:U.Pq,label:U.IQ,value:r.dob,onChange:i,name:U.xf,error:a.dob&&Boolean(s.dob),helperText:a.dob&&s.dob,shrink:!0})})]}),!1===c?(0,$.jsx)(X.ZP,{container:!0,children:(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,$.jsx)(te.Z,{type:U.zP,label:U.xK,value:r.email,onChange:i,name:U.zP,error:a.email&&Boolean(s.email),helperText:a.email&&s.email})})}):(0,$.jsx)(X.ZP,{container:!0,children:(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,$.jsx)(te.Z,{type:U.d7,label:U.pK,value:r.contactNumber,onChange:i,name:U.iJ,error:a.contactNumber&&Boolean(s.contactNumber),helperText:a.contactNumber&&s.contactNumber})})}),!0===c&&(0,$.jsx)(X.ZP,{container:!0,children:(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,$.jsx)(te.Z,{label:U.o4,value:r.address,onChange:i,name:U.wG,error:a.address&&Boolean(s.address),helperText:a.address&&s.address})})})]}),(0,$.jsx)(ne.Z,{className:"modal-box-footer",children:(0,$.jsx)(ae.Z,{disable:n,loading:n,actionState:c})})]})},se=function(e){var n=e.loading,a=e.onHandleSubmit,t=e.onClose,r=e.actionState,s=e.admin;return(0,$.jsx)(Q.J9,{initialValues:f,onSubmit:function(e,n){a(e,n)},validationSchema:h,children:function(e){var a=e.touched,i=e.values,l=e.errors,o=e.handleChange,c=e.handleSubmit,d=e.setFieldValue;return(0,$.jsx)(re,{onClose:t,loading:n,values:i,handleChange:o,handleSubmit:c,setFieldValue:d,errors:l,touched:a,actionState:r,admin:s})}})},ie=a(4998),le=a(77227),oe="userName",ce="email",de="contactNumber",ue="role",me=[{id:"user",name:"Viewer"},{id:"manager",name:"Manager"}],fe=function(e){e.loading;var n=e.touched,a=e.values,s=e.errors,i=e.handleChange,l=e.handleSubmit,o=e.setFieldValue,c=e.resetForm,d=(e.actionState,e.filter),u=(e.setFilterObject,e.onResetFilterModal);return(0,t.useEffect)((function(){d&&(o(oe,d.userName?d.userName:""),o(ce,d.email?d.email:""),o(de,d.contactNumber?d.contactNumber:""),o(ue,d.role?d.role:""))}),[d,o]),(0,$.jsxs)("form",{onSubmit:l,autoComplete:"off",children:[(0,$.jsx)(ee.Z,{dividers:!0,children:(0,$.jsxs)(X.ZP,{container:!0,children:[(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,$.jsx)(te.Z,{label:"User Name",value:a.userName,onChange:i,name:oe,error:n.userName&&Boolean(s.userName),helperText:n.userName&&s.userName})}),(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,$.jsx)(te.Z,{label:"Email",value:a.email,onChange:i,name:ce,error:n.email&&Boolean(s.email),helperText:n.email&&s.email})}),(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,$.jsx)(te.Z,{type:"number",label:"Contact Number",value:a.contactNumber,onChange:i,name:de,error:n.contactNumber&&Boolean(s.contactNumber),helperText:n.contactNumber&&s.contactNumber})}),(0,$.jsx)(X.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,$.jsx)(le.Z,{id:ue,options:me,getOptionLabel:function(e){return e.name},PaperComponent:function(e){var n=e.children;return(0,$.jsx)(q.Z,{children:n})},value:{name:""!==a.role?me.find((function(e){return e.id===a.role})).name:""},onChange:function(e,n){o(ue,n.id)},renderInput:function(e){return(0,$.jsx)(ie.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"User Control",name:ue,className:"custom-text-field",size:"small",variant:"outlined",value:a.role,helperText:n.role&&s.role,error:n.role&&Boolean(s.role)}))}})})]})}),(0,$.jsxs)(ne.Z,{className:"modal-box-footer",children:[(0,$.jsx)(w.Z,{className:"filter-reset-btn",onClick:function(){c(),u()},children:"Reset"}),(0,$.jsx)(w.Z,{type:"submit",className:"filter-filter-btn",children:"Filter"})]})]})},he={userName:"",email:"",contactNumber:"",role:"",id:""},be=c.Ry().shape({userName:c.Z_().min("2","Min 2 characters required!").matches(/^[A-Za-z][a-zA-Z ]+$/i,"Only Alphabets are allowed!"),email:c.Z_().matches(/^[A-Za-z][a-zA-Z0-9@. ]+$/i,'Only Alphabets "@", "." and Numbers are allowed!')}),xe=function(e){var n=e.loading,a=e.onHandleSubmit,t=e.onClose,r=e.actionState,s=e.filter,i=e.setFilterObject,l=e.onResetFilterModal;return(0,$.jsx)(Q.J9,{initialValues:he,onSubmit:function(e,n){a(e,n)},validationSchema:be,children:function(e){var a=e.touched,o=e.values,c=e.errors,d=e.handleChange,u=e.handleSubmit,m=e.setFieldValue,f=e.resetForm;return(0,$.jsx)(fe,{onClose:t,loading:n,values:o,handleChange:d,handleSubmit:u,setFieldValue:m,resetForm:f,errors:c,touched:a,actionState:r,filter:s,setFilterObject:i,onResetFilterModal:l})}})},ge=a(49988),pe=a(60469),Ze=a(96578),Ne=a(84376),ve=a(6177),je=a(28886),we=a(24254),Ce=a(3383),Se=function(){var e=(0,t.useState)(null),n=(0,l.Z)(e,2),a=n[0],o=n[1],c=(0,t.useState)(!1),d=(0,l.Z)(c,2),u=d[0],m=d[1],f=(0,t.useState)(!1),h=(0,l.Z)(f,2),b=h[0],x=h[1],g=(0,t.useState)(!1),p=(0,l.Z)(g,2),Z=p[0],N=p[1],v=(0,t.useState)(null),j=(0,l.Z)(v,2),w=j[0],C=j[1],S=(0,t.useState)(1),k=(0,l.Z)(S,2),P=k[0],y=k[1],F=(0,t.useState)("initial"),U=(0,l.Z)(F,2),D=U[0],T=U[1],M=(0,t.useState)(null),z=(0,l.Z)(M,2),E=z[0],V=z[1],I=(0,t.useState)({page:P,offset:A.n}),R=(0,l.Z)(I,2),L=R[0],q=R[1],H=(0,Ze.a)(ve.fo,{variables:L}),B=H.refetch,O=H.loading,W=(H.error,H.data),K=(0,Ne.D)(ve.qK),_=(0,l.Z)(K,1)[0],Q=(0,Ne.D)(ve.AX),X=(0,l.Z)(Q,1)[0],ee=(0,Ne.D)(ve.WH),ne=(0,l.Z)(ee,1)[0],ae=(0,Ne.D)(ve.Wp),te=(0,l.Z)(ae,1)[0];(0,t.useEffect)((function(){(0,i.Z)((0,s.Z)().mark((function e(){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=8;break}return e.next=3,B(L);case 3:return n=e.sent,e.next=6,(0,we.LZ)(n,"users");case 6:a=e.sent,o(a&&a);case 8:case"end":return e.stop()}}),e)})))()}),[L]),(0,t.useEffect)((function(){W&&(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,we.LZ)(W,"users");case 2:n=e.sent,o(n&&n);case 4:case"end":return e.stop()}}),e)})))()}),[W]),(0,t.useEffect)((function(){if(E){var e={};E.userName&&""!==E.userName&&(e=(0,r.Z)((0,r.Z)({},e),{},{userName:E.userName})),E.email&&""!==E.email&&(e=(0,r.Z)((0,r.Z)({},e),{},{email:E.email})),E.contactNumber&&""!==E.contactNumber&&(e=(0,r.Z)((0,r.Z)({},e),{},{mobile:String(E.contactNumber)})),E.role&&""!==E.role&&(e=(0,r.Z)((0,r.Z)({},e),{},{role:E.role})),e=(0,r.Z)((0,r.Z)({},e),{},{page:P,offset:A.n}),q(e)}}),[E]);var re=(0,t.useCallback)((function(){N(!1),C(null),m(!1)}),[]),ie=(0,t.useCallback)((function(){T("initial"),m(!1)}),[]),le=(0,t.useCallback)((function(e,n){y(n)}),[]),oe=(0,t.useCallback)((function(e){y(0)}),[]),ce=(0,t.useCallback)((function(){N(!1),C(null),m(!0)}),[]),de=(0,t.useCallback)((function(){T("open"),m(!0)}),[]),ue=(0,t.useCallback)((function(){V({page:P,offset:A.n})}),[]),me=(0,t.useCallback)((function(e){V(e)}),[]),fe=(0,t.useCallback)((function(e){N(!0),C(e),m(!0)}),[]),he=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne({variables:{id:a,enabled:n}});case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,(0,we.LZ)(t,"enableDisableUser");case 6:r=e.sent;case 7:r&&200===r.code?(0,ge.V)(r.message):(0,ge.v)(r.message);case 8:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),be=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({variables:{id:n,title:a}});case 2:return t=e.sent,e.next=5,(0,we.LZ)(t,"assignManagerRole");case 5:r=e.sent,(0,ge.V)(r.message),200===r.code||(0,ge.v)(r.message),B(L);case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),Se=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,J.U_)(n);case 2:200===(a=e.sent).status?(0,ge.V)(a.message):(0,ge.v)(a.message);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=function(){B(L)},Pe=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){var t,r,i,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),console.log(n,"TVTVTVVTVTTVTVVTVTVT"),Z){e.next=12;break}return e.next=5,_({variables:{firstName:n.firstName,lastName:n.lastName,email:n.email}});case 5:return t=e.sent,e.next=8,(0,we.LZ)(t,"createUser");case 8:200===(r=e.sent).code?(x(!1),(0,ge.V)(r.message),a.resetForm(),re()):(x(!1),(0,ge.v)(r.message)),e.next=19;break;case 12:return e.next=14,X({variables:{updateUserId:n.id,firstName:n.firstName,lastName:n.lastName,email:n.email,dob:n.dob,walletAddress:n.walletAddress,contactNumber:n.contactNumber.toString(),address:n.address}});case 14:return i=e.sent,e.next=17,(0,we.LZ)(i,"updateUser");case 17:200===(l=e.sent).code?(x(!1),B(),(0,ge.V)(l.message),a.resetForm(),re()):(x(!1),(0,ge.v)(l.message));case 19:ke();case 20:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),ye=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(n);case 1:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();return(0,$.jsxs)("div",{className:"w-full h-full",children:[(0,$.jsx)("span",{children:(0,$.jsx)(Ce.Z,{value:"Add New User",className:"add-new-btn",variant:"contained",disable:u,onClick:ce})}),(0,$.jsx)(je.Z,{type:pe.DN,currencyType:pe.DN,refetch:ke,handleModalOpen:ce}),(0,$.jsx)(Y,{data:a,loading:O,onClickEdit:fe,onHandleEnableChange:he,page:P,setPage:y,rowsPerPage:A.n,handleChangePage:le,handleChangeRowsPerPage:oe,onResentInvitation:Se,refreshUsersList:ke,onHandleAssignRole:be,filterBy:D,disable:u,openFilterModal:de}),"initial"===D?(0,$.jsx)(G.Z,{maxWidth:"sm",open:u,onClose:re,title:Z?"Edit User":"Create User",children:(0,$.jsx)(se,{onHandleSubmit:Pe,loading:b,onClose:re,actionState:Z,admin:w})}):(0,$.jsx)(G.Z,{maxWidth:"sm",open:u,onClose:ie,title:"Filter Users",children:(0,$.jsx)(xe,{onHandleSubmit:ye,loading:b,onClose:re,actionState:Z,filter:E,setFilterObject:me,onResetFilterModal:ue})})]})},ke=function(){return(0,t.useEffect)((function(){window.scrollTo(0,0)}),[]),(0,$.jsx)("div",{className:"h-full w-full overflow-hidden",children:(0,$.jsx)(Se,{})})}},24566:function(e,n,a){a.d(n,{U_:function(){return o}});var t=a(74165),r=a(1413),s=a(15861),i=a(57150),l=a(8106),o=(a(763),function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={loading:!1,status:210,message:"Something went wrong, Please try again."},e.next=3,(0,l.E)();case 3:return s=e.sent,e.abrupt("return",i.Z.get("/admin/admins/".concat(n,"/resentInvitation"),s).then((function(e){return e.data&&200===e.data.code?(e=e.data,(0,r.Z)((0,r.Z)({},a),{},{status:200,message:e.message})):(0,r.Z)((0,r.Z)({},a),{},{message:(0,l.D)(e.data)})})).catch((function(e){return(0,r.Z)((0,r.Z)({},a),{},{message:(0,l.D)(e.response&&e.response.data?e.response.data:e.message)})})));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=627.768d9b9d.chunk.js.map