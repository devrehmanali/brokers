(self.webpackChunkbroker_ui=self.webpackChunkbroker_ui||[]).push([[970],{25689:function(){},59403:function(e,n,a){"use strict";function t(e,n,a){return n[a]<e[a]?-1:n[a]>e[a]?1:0}function r(e,n){return"desc"===e?function(e,a){return t(e,a,n)}:function(e,a){return-t(e,a,n)}}function s(e,n){var a=e.map((function(e,n){return[e,n]}));return a.sort((function(e,a){var t=n(e[0],a[0]);return 0!==t?t:e[1]-a[1]})),a.map((function(e){return e[0]}))}a.d(n,{XV:function(){return s},sQ:function(){return r}})},8793:function(e,n,a){"use strict";a(72791);var t=a(64554),r=a(53994),s=a(56890),i=a(35855),d=a(80720),l=a(95573),c=a(80184);n.Z=function(e){var n=e.headCells,a=e.order,u=e.orderBy,o=e.onRequestSort;return(0,c.jsx)(s.Z,{className:"table-head",children:(0,c.jsx)(i.Z,{className:"bg-header",children:n.map((function(e){return(0,c.jsx)(r.Z,{align:e.align,className:"row-heading",padding:"none",style:{padding:10,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.25rem"},sortDirection:u===e.id&&a,children:e.sort?(0,c.jsxs)(d.Z,{direction:u===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,u===e.id?(0,c.jsx)(t.Z,{component:"span",sx:l.Z,children:"desc"===a?"sorted descending":"sorted ascending"}):null]}):e.label},e.id);var n}))})})}},96828:function(e,n,a){"use strict";a(72791),a(94021),a(59403),a(80184)},94021:function(e,n,a){"use strict";a(72791),a(80184)},57150:function(e,n,a){"use strict";var t=a(74569),r=a.n(t),s=a(17406),i=r().create({baseURL:s.K});n.Z=i},8106:function(e,n,a){"use strict";a.d(n,{D:function(){return s},E:function(){return r}});var t=a(763),r=function(){return new Promise((function(e){var n=localStorage.getItem("token");e(n?{headers:{authorization:"Bearer "+n}}:null)}))},s=function(e){var n="Something went wrong, Please try again.";return e.message&&(0,t.isArray)(e.message)?(n=e.message[0],n=!(0,t.isString)(n)&&(0,t.isArray)(n)?n[0]&&n[0].msg?n[0].msg:n[0]:n.msg):(e.message&&(0,t.isString)(e.message)&&(n=e.message),e.message&&(0,t.isString)(e.message)&&(n=e.message)),"Invalid login credentials. Please try again."===n&&(n="Email and password is invalid!"),n}},16387:function(e,n,a){"use strict";a.d(n,{DG:function(){return g},ZY:function(){return u},cZ:function(){return c},xv:function(){return o}});var t,r,s,i,d=a(30168),l=a(87743),c=(0,l.Ps)(t||(t=(0,d.Z)(["\n  query Query($page: Int, $offset: Int, $name: String, $abbrev: String) {\n    chains(page: $page, offset: $offset, name: $name, abbrev: $abbrev) {\n      code\n      message\n      data {\n        brokerId\n        id\n        name\n        abbrev\n        apiKey\n        walletAddress\n        contractAddress\n        enabled\n      }\n      count\n      total\n      current\n    }\n  }\n"]))),u=(0,l.Ps)(r||(r=(0,d.Z)(["\n  mutation Mutation($apiKey: String, $walletAddress: String) {\n    createChain(apiKey: $apiKey, walletAddress: $walletAddress) {\n      code\n      message\n      data {\n        name\n        abbrev\n        apiKey\n        walletAddress\n        contractAddress\n      }\n    }\n  }\n"]))),o=(0,l.Ps)(s||(s=(0,d.Z)(["\n  mutation Mutation(\n    $updateChainId: ID\n    $apiKey: String\n    $walletAddress: String\n  ) {\n    updateChain(\n      id: $updateChainId\n      apiKey: $apiKey\n      walletAddress: $walletAddress\n    ) {\n      code\n      message\n      data {\n        id\n        name\n        abbrev\n        apiKey\n        walletAddress\n      }\n    }\n  }\n"]))),g=(0,l.Ps)(i||(i=(0,d.Z)(["\n  query Query($page: Int, $offset: Int, $chainId: ID) {\n    allChainAccountByChainId(page: $page, offset: $offset, chainId: $chainId) {\n      count\n      total\n      current\n      data {\n        chainId {\n          name\n        }\n        id\n        apiKey\n        walletAddress\n        walletIndex\n        enabled\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"])))},34970:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return _}});var t=a(72791),r=a(74165),s=a(15861),i=a(70885),d=(a(30373),a(62797)),l=(a(76998),d.Ry().shape({name:d.Z_().min(3,"Name must be at least 3 characters.").required(" Name is required!"),abbrev:d.Z_().min(3,"Abbreviation must  be at least 3 characters.").required("Abbreviation is required!"),apiKey:d.Z_().min(3,"Api Key must  be at least 3 characters.").required("Api Key is required!"),walletAddress:d.Z_().min(3,"Wallet Address must  be at least 3 characters.").required("Wallet Address is required!")}),[{id:"select",numeric:!0,disablePadding:!0,label:"Select",sort:!1},{id:"name",numeric:!0,disablePadding:!0,label:"Name",sort:!0},{id:"apiKey",numeric:!0,disablePadding:!1,label:"Api Key",sort:!0},{id:"walletAddress",numeric:!0,disablePadding:!1,label:"Wallet Address",sort:!0},{id:"walletIndex",numeric:!0,disablePadding:!1,label:"Wallet Index",sort:!1},{id:"enabled",numeric:!0,disablePadding:!1,label:"Status",sort:!1}]),c=a(79836),u=a(53382),o=a(53994),g=a(39281),f=a(35855),h=a(20068),m=a(35527),b=a(8793),p=a(59403),Z=a(79271),v=a(9955),y=(a(96828),a(16856)),x=a(60515),w=a(25689),C=a(46904),j=a(78885),A=a(23179),k=a(24254),I=a(80184);var S=function(e){var n=e.data,a=e.onHandleEnableChange,r=(0,t.useState)([]),s=(0,i.Z)(r,2),d=s[0],S=s[1],P=(0,t.useState)([]),$=(0,i.Z)(P,2),K=$[0],N=$[1],q=(0,t.useState)(C.aW),D=(0,i.Z)(q,2),E=D[0],B=D[1],_=(0,t.useState)(w._NAME),W=(0,i.Z)(_,2),O=W[0],z=W[1],H=(0,t.useState)(0),L=(0,i.Z)(H,2),Q=L[0],T=L[1],M=(0,t.useState)(C.n),Y=(0,i.Z)(M,2),F=Y[0],R=Y[1],V=(0,t.useState)(!1),G=(0,i.Z)(V,2);G[0],G[1],(0,Z.k6)(),(0,t.useEffect)((function(){n.length>0&&(S(n),N(n))}),[n]),console.log(d,"FetchedChains>>>>>>>>>>>>>>>>..");var U=(0,t.useCallback)((function(e){e||S(K),S(function(e,n){return n.filter((function(n){var a=!1;return!a&&n.chainId.name&&(a=n.chainId.name.includes(e.toLowerCase())),!a&&n.apiKey&&(a=n.apiKey.includes(e.toLowerCase())),!a&&n.walletAddress&&(a=n.walletAddress.includes(e.toLowerCase())),a}))}(e,K))}),[K]);console.log(l);var X=(0,t.useCallback)((function(e,n){var a=O===n&&E===C.aW;B(a?C.jo:C.aW),z(n)}),[E,O]);return(0,t.useCallback)((function(e,n){T(n)}),[]),(0,t.useCallback)((function(e){R(parseInt(e.target.value,10)),T(0)}),[]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"",children:(0,I.jsx)(j.Z,{data:d,setData:N,page:Q,count:d&&d.length>0?d.length:0,rowsPerPage:F,setPage:T,onSearch:U})}),(0,I.jsx)(m.Z,{className:"rounded-sm bg-slate-50 dark:bg-slate-600 custom-paper",children:(0,I.jsx)(g.Z,{children:(0,I.jsxs)(c.Z,{sx:{width:"100%"},"aria-labelledby":w.CHAINS,children:[(0,I.jsx)(b.Z,{order:E,orderBy:O,onRequestSort:X,headCells:l}),(0,I.jsx)(u.Z,{children:d&&(null===d||void 0===d?void 0:d.length)>0?(0,p.XV)(d,(0,p.sQ)(E,O)).slice(Q*F,Q*F+F).map((function(e){return(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(o.Z,{align:C.dv,style:{textTransform:"capitalize"},className:"dark:text-gray-200 dark:border-b-gray-500",children:(0,I.jsx)(A.Z,{})}),(0,I.jsx)(o.Z,{align:C.dv,style:{textTransform:"capitalize"},className:"dark:text-gray-200 dark:border-b-gray-500",children:e.chainId.name}),(0,I.jsxs)(o.Z,{align:C.dv,className:"dark:text-gray-200 dark:border-b-gray-500",children:[(0,I.jsx)(h.Z,{title:w.API_KEY_COPY,children:(0,I.jsx)("div",{className:"flex justify-end",children:(0,I.jsx)(y.Fqs,{className:"cursor-pointer",onClick:function(){return(0,k.vQ)(e.apiKey)}})})}),(0,I.jsx)(h.Z,{title:e.apiKey,children:(0,I.jsxs)("div",{children:[e.apiKey.substring(0,20),"..."]})})]}),(0,I.jsxs)(o.Z,{align:C.dv,className:"dark:text-gray-200 dark:border-b-gray-500",children:[(0,I.jsx)(h.Z,{title:w.WALLET_COPY,children:(0,I.jsx)("div",{className:"flex justify-end",children:(0,I.jsx)(y.Fqs,{className:"cursor-pointer",onClick:function(){return(0,k.vQ)(e.walletAddress)}})})}),(0,I.jsx)(h.Z,{title:e.walletAddress,children:(0,I.jsxs)("div",{children:[e.walletAddress.substring(0,20),"..."]})})]}),(0,I.jsx)(o.Z,{align:C.dv,style:{textTransform:"capitalize"},className:"dark:text-gray-200 dark:border-b-gray-500",children:e.walletIndex}),(0,I.jsx)(o.Z,{align:C.dv,className:"dark:text-gray-200 dark:border-b-gray-500",children:(0,I.jsx)(h.Z,{id:"status-toggle-tooltip-"+e.id,title:e.enabled?C.bO:C.o_,arrow:!0,placement:C.qI,classes:{tooltip:"p-3 tooltip-first"},children:(0,I.jsx)(v.Z,{defaultChecked:e.enabled,onChange:function(n){return a(n.target.checked,e.id)},className:"text-blue-600 dark:text-blue-300"})})})]},e.id)})):(0,I.jsx)(x.zI,{headCells:l})})]})})})]})},P=a(49988),$=a(60469),K=a(96578),N=a(84376),q=a(16387),D=a(28886),E=a(92450);var B=function(){var e=(0,t.useState)(!1),n=(0,i.Z)(e,2),a=(n[0],n[1]),d=(0,t.useState)(!1),l=(0,i.Z)(d,2),c=(l[0],l[1]),u=(0,t.useState)(!1),o=(0,i.Z)(u,2),g=(o[0],o[1]),f=(0,t.useState)(null),h=(0,i.Z)(f,2),m=(h[0],h[1]),b=(0,t.useState)(1),p=(0,i.Z)(b,2),v=p[0],y=(p[1],(0,t.useState)([])),x=(0,i.Z)(y,2),w=x[0],C=x[1],j=(0,Z.UO)().id,A=(0,t.useState)(0),k=(0,i.Z)(A,2),B=(k[0],k[1]),_=$.ew;console.log(j,"3432423");var W=(0,K.a)(q.DG,{variables:{page:v,offset:_,chainId:j},fetchPolicy:$.M2}),O=W.loading,z=W.error,H=W.refetch,L=W.data;console.log(j,"ChainID>>>>>>>");var Q=(0,N.D)(q.ZY),T=((0,i.Z)(Q,1)[0],(0,N.D)(q.xv)),M=((0,i.Z)(T,1)[0],(0,t.useCallback)((function(){g(!1),m(null),a(!1)}),[]),(0,t.useCallback)((function(){g(!1),m(null),a(!0)}),[]));(0,t.useEffect)((function(){var e;console.log(w,"data>>>>>>>>>>>>>>>>2"),L&&L.allChainAccountByChainId&&null!==(e=L.allChainAccountByChainId)&&void 0!==e&&e.data&&L.allChainAccountByChainId.data.length>0&&C(L.allChainAccountByChainId.data),L&&L.allChainAccountByChainId&&L.allChainAccountByChainId.count&&B(L.allChainAccountByChainId.count),z||c(!(L&&!O))}),[L]),(0,t.useCallback)((function(e){g(!0),m(e),a(!0)}),[]);var Y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,a){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.H)({id:a,enabled:n});case 2:200===(t=e.sent).status?(0,P.V)(t.message):z(t.message);case 4:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),F=function(){H()};return(0,I.jsxs)("div",{children:[(0,I.jsx)(D.Z,{type:$.P9,currencyType:$.P9,refetch:F,handleModalOpen:M}),(0,I.jsx)(S,{data:w,onHandleEnableChange:Y})]})};var _=function(){return(0,t.useEffect)((function(){window.scrollTo(0,0)}),[]),(0,I.jsx)("div",{className:"h-full w-full overflow-hidden",children:(0,I.jsx)(B,{})})}},92450:function(e,n,a){"use strict";a.d(n,{H:function(){return u},d:function(){return c}});var t=a(74165),r=a(1413),s=a(15861),i=a(57150),d=a(8106),l=a(763),c=(a(74569),function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={loading:!1,status:210,message:"Something went wrong, Please try again."},e.next=3,(0,d.E)();case 3:return s=e.sent,e.abrupt("return",i.Z.post("/admin/chain/enabled",n,s).then((function(e){return e.data&&200===e.data.code?(e=e.data,(0,r.Z)((0,r.Z)({},a),{},{data:(0,l.isObject)(e.data)?e.data:{},status:200,message:e.message})):(0,r.Z)((0,r.Z)({},a),{},{message:(0,d.D)(e.data)})})).catch((function(e){return(0,r.Z)((0,r.Z)({},a),{},{message:(0,d.D)(e.response&&e.response.data?e.response.data:e.message)})})));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),u=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={loading:!1,status:210,message:"Something went wrong, Please try again."},e.next=3,(0,d.E)();case 3:return s=e.sent,e.abrupt("return",i.Z.post("/admin/chainAccounts/enabled",n,s).then((function(e){return e.data&&200===e.data.code?(e=e.data,(0,r.Z)((0,r.Z)({},a),{},{data:(0,l.isObject)(e.data)?e.data:{},status:200,message:e.message})):(0,r.Z)((0,r.Z)({},a),{},{message:(0,d.D)(e.data)})})).catch((function(e){return(0,r.Z)((0,r.Z)({},a),{},{message:(0,d.D)(e.response&&e.response.data?e.response.data:e.message)})})));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=970.6d340f13.chunk.js.map