"use strict";(self.webpackChunkbroker_ui=self.webpackChunkbroker_ui||[]).push([[456],{59403:function(e,n,a){function t(e,n,a){return n[a]<e[a]?-1:n[a]>e[a]?1:0}function r(e,n){return"desc"===e?function(e,a){return t(e,a,n)}:function(e,a){return-t(e,a,n)}}function l(e,n){var a=e.map((function(e,n){return[e,n]}));return a.sort((function(e,a){var t=n(e[0],a[0]);return 0!==t?t:e[1]-a[1]})),a.map((function(e){return e[0]}))}a.d(n,{XV:function(){return l},sQ:function(){return r}})},8793:function(e,n,a){a(72791);var t=a(64554),r=a(53994),l=a(56890),s=a(35855),i=a(80720),o=a(95573),d=a(80184);n.Z=function(e){var n=e.headCells,a=e.order,c=e.orderBy,u=e.onRequestSort;return(0,d.jsx)(l.Z,{className:"table-head",children:(0,d.jsx)(s.Z,{className:"bg-header",children:n.map((function(e){return(0,d.jsx)(r.Z,{align:e.align,className:"row-heading",padding:"none",style:{padding:10,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.25rem"},sortDirection:c===e.id&&a,children:e.sort?(0,d.jsxs)(i.Z,{direction:c===e.id?a:"asc",onClick:(n=e.id,function(e){u(e,n)}),children:[e.label,c===e.id?(0,d.jsx)(t.Z,{component:"span",sx:o.Z,children:"desc"===a?"sorted descending":"sorted ascending"}):null]}):e.label},e.id);var n}))})})}},96828:function(e,n,a){a(72791),a(94021),a(59403),a(80184)},94021:function(e,n,a){a(72791),a(80184)},99911:function(e,n,a){var t=a(70885),r=a(72791),l=a(24518),s=a(5289),i=a(80184);n.Z=function(e){var n=r.useState(!1),a=(0,t.Z)(n,2),o=a[0],d=a[1];r.useEffect((function(){d(e.visible)}),[e.visible,e.message,e.header]);var c=function(){d(!1)};return(0,i.jsx)("div",{children:(0,i.jsx)(s.Z,{id:"dialog-component",open:o,onClose:c,classes:{paper:"shadow-sm-dark rounded-sm dialoge-cont"},children:(0,i.jsxs)("div",{className:"text-center p-6",id:"dbox",children:[(0,i.jsx)("h4",{className:"font-weight-bold mt-4 dialoge-heading",children:e.header}),(0,i.jsx)("p",{className:"mb-0 text-black-50 dialoge-message",children:e.message}),(0,i.jsxs)("div",{className:"pt-1",children:[(0,i.jsx)(l.Z,{onClick:c,className:"dialoge-cancel-btn",id:"dbox-cancel",children:(0,i.jsx)("span",{className:"btn-wrapper--label",children:"No"})}),(0,i.jsx)(l.Z,{onClick:function(){e.ok(),c()},className:"dialoge-confirm-btn",id:"dbox-ok",children:(0,i.jsx)("span",{className:"btn-wrapper--label",children:"Yes"})})]})]})})})}},86197:function(e,n,a){a(72791);var t=a(4998),r=a(46904),l=a(80184);n.Z=function(e){var n=e.label,a=e.value,s=e.onChange,i=e.name,o=e.error,d=e.helperText,c=e.type,u=e.disabled,m=e.format,f=void 0===m?"dd/MM/yyyy":m,p=e.placeholder,h=e.shrink,b=e.InputProps;return e.inputProps,(0,l.jsx)(t.Z,{fullWidth:!0,type:c||r.lD,className:"custom-text-field",label:n,value:a,onChange:s,placeholder:p||"",size:r.HC,name:i,error:o,helperText:d,disabled:u||!1,format:"date"===c?f:"",InputLabelProps:h?{shrink:h}:null,InputProps:b||null})}},58746:function(e,n,a){a.d(n,{Z:function(){return p}});var t=a(1413),r=a(45987),l=(a(72791),a(47630)),s=a(5289),i=a(65661),o=a(13400),d=a(29823),c=a(80184),u=["children","onClose"],m=(0,l.ZP)(s.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}})),f=function(e){var n=e.children,a=e.onClose,l=(0,r.Z)(e,u);return(0,c.jsxs)(i.Z,(0,t.Z)((0,t.Z)({sx:{m:0,p:2,display:"flex",justify:"between"}},l),{},{children:[n,a?(0,c.jsx)(o.Z,{"aria-label":"close",onClick:a,sx:{background:"#FFFFFF",overflowY:"unset",position:"absolute",left:"92%",top:"6%",color:function(e){return e.palette.grey[500]},"&:hover":{background:"#FFFFFF"}},children:(0,c.jsx)(d.Z,{})}):null]}))};function p(e){var n=e.onClose,a=e.open,t=e.title,r=e.maxWidth,l=e.children;return(0,c.jsx)("div",{children:(0,c.jsxs)(m,{onClose:n,"aria-labelledby":"customized-dialog-title",fullWidth:!0,maxWidth:r||"md",open:a,className:"dialog-modal-cont dark:dialog-modal-cont-dark",children:[(0,c.jsx)(f,{className:"modal-box-header",id:"customized-dialog-title",onClose:n,children:(0,c.jsx)("span",{className:"p-2",children:t})}),l]})})}},23347:function(e,n,a){a(72791);var t=a(9955),r=a(80184);n.Z=function(e){var n=e.disabled,a=e.checked,l=e.handleChange;return(0,r.jsx)(t.Z,{disabled:n,checked:a||!1,onChange:l,className:"custom-switch"})}},5349:function(e,n,a){a.d(n,{Q5:function(){return u},pm:function(){return d},vA:function(){return c},wn:function(){return m}});var t,r,l,s,i=a(30168),o=a(87743),d=(0,o.Ps)(t||(t=(0,i.Z)(["\n  query Query(\n    $page: Int\n    $offset: Int\n    $type: String\n    $name: String\n    $platformName: String\n  ) {\n    allFarms(\n      page: $page\n      offset: $offset\n      type: $type\n      name: $name\n      platformName: $platformName\n    ) {\n      data {\n        id\n        chainId {\n          brokerId\n          id\n          name\n          abbrev\n          apiKey\n          walletAddress\n          contractAddress\n          enabled\n        }\n        platformName\n        poolTitle\n        poolId\n        beefyVaultAddress\n        token0 {\n          price\n          icon\n          contractAddress\n          chainId {\n            brokerId\n            id\n            name\n            abbrev\n            apiKey\n            walletAddress\n            contractAddress\n            enabled\n          }\n        }\n        token1 {\n          price\n          icon\n          contractAddress\n          chainId {\n            brokerId\n            id\n            name\n            abbrev\n            apiKey\n            walletAddress\n            contractAddress\n            enabled\n          }\n        }\n        type\n        apy\n        price\n        riskNumber\n        deleted\n        enabled\n      }\n      count\n      total\n      current\n      code\n      message\n    }\n  }\n"]))),c=(0,o.Ps)(r||(r=(0,i.Z)(["\n  query Query {\n    syncFarms {\n      code\n      message\n      data {\n        id\n        platformName\n        poolTitle\n        poolId\n        beefyVaultAddress\n        type\n        apy\n        price\n        deleted\n        enabled\n      }\n    }\n  }\n"]))),u=(0,o.Ps)(l||(l=(0,i.Z)(["\n  mutation Mutation($farmId: ID, $enabled: Boolean) {\n    enableDisableFarm(farmId: $farmId, enabled: $enabled) {\n      code\n      message\n      data {\n        platformName\n        poolTitle\n        poolId\n        beefyVaultAddress\n        type\n        apy\n        price\n        deleted\n        enabled\n      }\n    }\n  }\n"]))),m=(0,o.Ps)(s||(s=(0,i.Z)(["\n  mutation Mutation($id: ID, $riskNumber: String) {\n    assignRiskNumber(id: $id, riskNumber: $riskNumber) {\n      code\n      message\n      data {\n        id\n        chainId {\n          brokerId\n          id\n          name\n        }\n        platformName\n        poolTitle\n        poolId\n        beefyVaultAddress\n        token0 {\n          price\n          icon\n          contractAddress\n        }\n        token1 {\n          price\n          icon\n          contractAddress\n        }\n        type\n        apy\n        price\n        riskNumber\n        deleted\n        enabled\n      }\n    }\n  }\n"])))},11456:function(e,n,a){a.r(n),a.d(n,{default:function(){return J}});var t=a(72791),r=a(1413),l=a(74165),s=a(15861),i=a(70885),o=(a(30373),a(62797)),d=(a(76998),[{id:"select",numeric:!0,disablePadding:!0,label:"Select",sort:!1},{id:"chain",numeric:!0,disablePadding:!0,label:"Chain",sort:!1},{id:"platformName",numeric:!0,disablePadding:!1,label:"Platform",sort:!0},{id:"poolTitle",numeric:!0,disablePadding:!1,label:"Currency",sort:!1},{id:"apy",numeric:!0,disablePadding:!1,label:"Apr",sort:!1},{id:"enabled",numeric:!0,disablePadding:!1,label:"Status",sort:!1}]),c=a(79836),u=a(53382),m=a(53994),f=a(39281),p=a(35855),h=a(20068),b=a(8793),g=a(59403),x=a(79271),Z=(a(96828),a(60515)),v=a(60469),j=a(23347),N=a(99911),y=a(46904),k=a(78885),C=a(23179),w=a(24254),F=(a(66719),a(80184));var S=function(e){var n=e.data,a=e.loading,l=(e.refreshDualAssetsList,e.onHandleEnableChange),s=e.filterBy,o=e.isOpen,v=e.openFilterModal,w=(0,t.useState)([]),S=(0,i.Z)(w,2),V=S[0],I=S[1],O=(0,t.useState)([]),A=(0,i.Z)(O,2),P=A[0],T=A[1],$=(0,t.useState)(y.aW),M=(0,i.Z)($,2),D=M[0],E=M[1],z=(0,t.useState)("platformName"),L=(0,i.Z)(z,2),R=L[0],W=L[1],B=(0,t.useState)(0),H=(0,i.Z)(B,2),Q=H[0],q=H[1],K=(0,t.useState)(y.n),U=(0,i.Z)(K,2),_=U[0],X=U[1],Y=(0,t.useState)(!1),J=(0,i.Z)(Y,2),G=(J[0],J[1],(0,t.useState)({visible:!1})),ee=(0,i.Z)(G,2),ne=ee[0],ae=ee[1];(0,x.k6)(),(0,t.useEffect)((function(){n&&n.data&&n.data.length>0?(I(n.data),T(n.data),q(n.current)):(I([]),T([]),q(1))}),[n]);var te=(0,t.useCallback)((function(e){e||I(P),I(function(e,n){return n.filter((function(n){var a=!1;return!a&&n.chainId.name&&(a=n.chainId.name.includes(e.toLowerCase())),!a&&n.platformName&&(a=n.platformName.includes(e.toLowerCase())),!a&&n.poolTitle&&(a=n.poolTitle.includes(e.toLowerCase())),!a&&n.apy&&(a=n.apy.includes(e.toLowerCase())),a}))}(e,P))}),[P]),re=(0,t.useCallback)((function(e,n){var a=R===n&&D===y.aW;E(a?y.jo:y.aW),W(n)}),[D,R]);return(0,t.useCallback)((function(e,n){q(n)}),[]),(0,t.useCallback)((function(e){X(parseInt(e.target.value,10)),q(0)}),[]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)(N.Z,(0,r.Z)({},ne)),(0,F.jsx)(k.Z,{data:V,setData:T,page:Q,count:n&&n.count,rowsPerPage:_,setPage:q,onSearch:te,type:"button",filterBy:s,disable:o,openFilterModal:v})]}),(0,F.jsx)(f.Z,{className:"table-cont overflow-auto",children:(0,F.jsxs)(c.Z,{sx:{width:"100%"},"aria-labelledby":"Single Assets",children:[(0,F.jsx)(b.Z,{order:D,orderBy:R,onRequestSort:re,headCells:d}),(0,F.jsx)(u.Z,{children:a?(0,F.jsx)(Z.Mb,{headCells:d}):V&&V.length>0?(0,g.XV)(V,(0,g.sQ)(D,R)).map((function(e){return(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(m.Z,{align:y.dv,style:{textTransform:"capitalize"},className:"row-cell",children:(0,F.jsx)(C.Z,{})}),(0,F.jsx)(m.Z,{align:y.dv,style:{textTransform:"uppercase"},className:"row-cell",children:e.chainId&&e.chainId.name}),(0,F.jsx)(m.Z,{align:y.dv,style:{textTransform:"capitalize"},className:"row-cell",children:e.platformName}),(0,F.jsx)(m.Z,{align:y.dv,className:"row-cell",children:(0,F.jsxs)("span",{className:"flex",children:[(0,F.jsx)("img",{className:"mr-1",alt:"Currency Token0 Icon",width:25,height:25,src:e.token0&&e.token0.icon}),(0,F.jsx)("img",{className:"ml-1",alt:"Currency Token1 Icon",width:25,height:25,src:e.token1&&e.token1.icon})]})}),(0,F.jsx)(m.Z,{align:y.dv,style:{textTransform:"capitalize"},className:"row-cell",children:e.apy}),(0,F.jsx)(m.Z,{align:y.dv,className:"row-cell",children:(0,F.jsx)(h.Z,{title:e.enabled?"Farm Enabled":"Farm Disabled",children:(0,F.jsx)("div",{children:(0,F.jsx)(j.Z,{disabled:!1,checked:e.enabled,handleChange:function(n){return a=n.target.checked,t=e.id,void ae({id:t,visible:!0,header:a?"Unsuspend Farm?":"Suspend Farm?",message:"Are you sure you want to do this?",key:Math.random().toString(36).substring(6),ok:function(){return l(a,t)}});var a,t}})})})})]},e.id)})):(0,F.jsx)(Z.zI,{headCells:d})})]})})]})},V=a(49988),I=a(5349),O=a(96578),A=a(84376),P=a(58746),T=a(55705),$=a(61889),M=a(39157),D=a(97123),E=a(24518),z=a(4998),L=a(77227),R=a(35527),W=a(86197),B=a(17406),H="name",Q="platformName",q=function(e){e.loading;var n=e.touched,a=e.values,l=e.errors,s=e.handleChange,i=e.handleSubmit,o=e.setFieldValue,d=e.resetForm,c=(e.actionState,e.filter),u=(e.setFilterObject,e.onResetFilterModal);return(0,t.useEffect)((function(){c&&(o(H,c.name?c.name:""),o(Q,c.platformName?c.platformName:""))}),[c,o]),(0,F.jsxs)("form",{onSubmit:i,autoComplete:"off",children:[(0,F.jsx)(M.Z,{dividers:!0,children:(0,F.jsxs)($.ZP,{container:!0,children:[(0,F.jsx)($.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,F.jsx)(L.Z,{id:H,options:B.D,getOptionLabel:function(e){return e.name},PaperComponent:function(e){var n=e.children;return(0,F.jsx)(R.Z,{children:n})},value:{name:""!==a.name?B.D.find((function(e){return e.id===a.name})).name:""},onChange:function(e,n){o(H,n.id)},renderInput:function(e){return(0,F.jsx)(z.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Chain Name",name:H,className:"custom-text-field",size:"small",variant:"outlined",value:a.name,helperText:n.name&&l.name,error:n.name&&Boolean(l.name)}))}})}),(0,F.jsx)($.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,F.jsx)(W.Z,{label:"Platform Name",value:a.platformName,onChange:s,name:Q,error:n.platformName&&Boolean(l.platformName),helperText:n.platformName&&l.platformName})})]})}),(0,F.jsxs)(D.Z,{className:"modal-box-footer",children:[(0,F.jsx)(E.Z,{className:"filter-reset-btn",onClick:function(){d(),u()},children:"Reset"}),(0,F.jsx)(E.Z,{type:"submit",className:"filter-filter-btn",children:"Filter"})]})]})},K={name:"",platformName:"",id:""},U=o.Ry().shape({platformName:o.Z_().min("2","Min 2 characters required!").matches(/^[A-Za-z][a-zA-Z0-9- ]+$/i,"Must start with an Alphabet and Alphabets, Hyphens and Numbers are allowed!")}),_=function(e){var n=e.loading,a=e.onHandleSubmit,t=e.onClose,r=e.actionState,l=e.filter,s=e.setFilterObject,i=e.onResetFilterModal;return(0,F.jsx)(T.J9,{initialValues:K,onSubmit:function(e,n){a(e,n)},validationSchema:U,children:function(e){var a=e.touched,o=e.values,d=e.errors,c=e.handleChange,u=e.handleSubmit,m=e.setFieldValue,f=e.resetForm;return(0,F.jsx)(q,{onClose:t,loading:n,values:o,handleChange:c,handleSubmit:u,setFieldValue:m,resetForm:f,errors:d,touched:a,actionState:r,filter:l,setFilterObject:s,onResetFilterModal:i})}})},X=a(28886);var Y=function(){var e=(0,t.useState)(!1),n=(0,i.Z)(e,2),a=n[0],o=n[1],d=(0,t.useState)(!1),c=(0,i.Z)(d,2),u=c[0],m=c[1],f=(0,t.useState)(null),p=(0,i.Z)(f,2),h=(p[0],p[1]),b=(0,t.useState)(1),g=(0,i.Z)(b,2),x=g[0],Z=g[1],j=(0,t.useState)([]),N=(0,i.Z)(j,2),y=N[0],k=N[1],C=(0,t.useState)(0),T=(0,i.Z)(C,2),$=(T[0],T[1],(0,t.useState)("initial")),M=(0,i.Z)($,2),D=M[0],E=M[1],z=(0,t.useState)(null),L=(0,i.Z)(z,2),R=L[0],W=L[1],B=(0,t.useState)({page:x,offset:v.ew,type:"dual"}),H=(0,i.Z)(B,2),Q=H[0],q=H[1],K=(0,O.a)(I.pm,{variables:Q}),U=K.loading,Y=K.error,J=K.refetch,G=K.data,ee=(0,O.a)(I.vA,{}),ne=(ee.loading,ee.error,ee.refetch),ae=(ee.data,(0,A.D)(I.Q5)),te=(0,i.Z)(ae,1)[0];(0,t.useEffect)((function(){(0,s.Z)((0,l.Z)().mark((function e(){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(Q);case 2:if(n=e.sent,!Q){e.next=8;break}return e.next=6,(0,w.LZ)(n,"allFarms");case 6:a=e.sent,k(a&&a);case 8:case"end":return e.stop()}}),e)})))()}),[Q]),(0,t.useEffect)((function(){G&&(0,s.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(G,"OOOOOOOOOOOOOOOOOOOOOOOO"),e.next=3,(0,w.LZ)(G,"allFarms");case 3:n=e.sent,console.log(n,"VVVVVVVVVVVVVVVVVVVVVVVVV"),k(n&&n);case 6:case"end":return e.stop()}}),e)})))()}),[G]),(0,t.useEffect)((function(){if(R){var e={};R.name&&""!==R.name&&(e=(0,r.Z)((0,r.Z)({},e),{},{name:R.name})),R.platformName&&""!==R.platformName&&(e=(0,r.Z)((0,r.Z)({},e),{},{platformName:R.platformName})),e=(0,r.Z)((0,r.Z)({},e),{},{page:x,offset:v.ew,type:"dual"}),q(e)}}),[R]);var re=(0,t.useCallback)((function(){E("open"),o(!0)}),[]),le=(0,t.useCallback)((function(){E("initial"),o(!1)}),[]),se=(0,t.useCallback)((function(){q({page:x,offset:v.ew,type:"dual"}),W({page:x,offset:v.ew,type:"dual"})}),[]),ie=(0,t.useCallback)((function(e){W(e)}),[]),oe=((0,t.useCallback)((function(){m(!1),h(null),o(!0)}),[]),function(){var e=(0,s.Z)((0,l.Z)().mark((function e(n,a){var t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({variables:{farmId:a,enabled:n}});case 2:if(t=e.sent,J(Q),!t){e.next=8;break}return e.next=7,(0,w.LZ)(t,"enableDisableFarm");case 7:r=e.sent;case 8:r&&200===r.code?setTimeout((0,V.V)(r.message),6e3):Y(r.message);case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),de=function(){ne(),J(Q)},ce=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(n,a){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(n);case 1:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();return(0,F.jsxs)("div",{children:[(0,F.jsx)(X.Z,{type:v.EU,currencyType:v.EU,refetch:de}),(0,F.jsx)(S,{data:y,page:x,setPage:Z,loading:U,refreshSingleAssetsList:de,onHandleEnableChange:oe,filterBy:D,disable:a,openFilterModal:re}),(0,F.jsx)(P.Z,{maxWidth:"sm",open:a,onClose:le,title:"Filter Farms",children:(0,F.jsx)(_,{onHandleSubmit:ce,loading:U,onClose:le,actionState:u,filter:R,setFilterObject:ie,onResetFilterModal:se})})]})};var J=function(){return(0,t.useEffect)((function(){window.scrollTo(0,0)}),[]),(0,F.jsx)("div",{className:"w-full overflow-hidden",children:(0,F.jsx)(Y,{})})}},66719:function(e,n,a){a.d(n,{h:function(){return r}});var t=a(80184),r=function(){return(0,t.jsx)("div",{className:"text-center w-full",children:(0,t.jsx)("img",{className:"min-w-full object-fit-contain",src:"images/data-not-found.png",alt:"Data Not Found!"})})}}}]);
//# sourceMappingURL=456.0683f75c.chunk.js.map