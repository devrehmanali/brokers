"use strict";(self.webpackChunkbroker_ui=self.webpackChunkbroker_ui||[]).push([[411],{75605:function(e,a,n){n.d(a,{F_:function(){return c},Kc:function(){return l},Yt:function(){return s},rU:function(){return t},rc:function(){return d},wn:function(){return i},xK:function(){return r},zP:function(){return o}});var t="First Name",s="Last Name",r="Email",i="firstName",l="lastName",o="email",d="id",c="Admins"},12593:function(e,a,n){n(72791);var t=n(13239),s=n(3383),r=n(80184);a.Z=function(e){var a=e.loading,n=e.actionState,i=e.disable;return(0,r.jsx)(s.Z,{disable:i,loading:a,value:a?(0,r.jsx)(t.Z,{color:"inherit",size:22}):n?"Submit":"Create"})}},59403:function(e,a,n){function t(e,a,n){return a[n]<e[n]?-1:a[n]>e[n]?1:0}function s(e,a){return"desc"===e?function(e,n){return t(e,n,a)}:function(e,n){return-t(e,n,a)}}function r(e,a){var n=e.map((function(e,a){return[e,a]}));return n.sort((function(e,n){var t=a(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),n.map((function(e){return e[0]}))}n.d(a,{XV:function(){return r},sQ:function(){return s}})},8793:function(e,a,n){n(72791);var t=n(64554),s=n(53994),r=n(56890),i=n(35855),l=n(80720),o=n(95573),d=n(80184);a.Z=function(e){var a=e.headCells,n=e.order,c=e.orderBy,u=e.onRequestSort;return(0,d.jsx)(r.Z,{className:"table-head",children:(0,d.jsx)(i.Z,{className:"bg-header",children:a.map((function(e){return(0,d.jsx)(s.Z,{align:e.align,className:"row-heading",padding:"none",style:{padding:10,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.25rem"},sortDirection:c===e.id&&n,children:e.sort?(0,d.jsxs)(l.Z,{direction:c===e.id?n:"asc",onClick:(a=e.id,function(e){u(e,a)}),children:[e.label,c===e.id?(0,d.jsx)(t.Z,{component:"span",sx:o.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},e.id);var a}))})})}},94021:function(e,a,n){n(72791),n(80184)},99911:function(e,a,n){var t=n(70885),s=n(72791),r=n(24518),i=n(5289),l=n(80184);a.Z=function(e){var a=s.useState(!1),n=(0,t.Z)(a,2),o=n[0],d=n[1];s.useEffect((function(){d(e.visible)}),[e.visible,e.message,e.header]);var c=function(){d(!1)};return(0,l.jsx)("div",{children:(0,l.jsx)(i.Z,{id:"dialog-component",open:o,onClose:c,classes:{paper:"shadow-sm-dark rounded-sm dialoge-cont"},children:(0,l.jsxs)("div",{className:"text-center p-6",id:"dbox",children:[(0,l.jsx)("h4",{className:"font-weight-bold mt-4 dialoge-heading",children:e.header}),(0,l.jsx)("p",{className:"mb-0 text-black-50 dialoge-message",children:e.message}),(0,l.jsxs)("div",{className:"pt-1",children:[(0,l.jsx)(r.Z,{onClick:c,className:"dialoge-cancel-btn",id:"dbox-cancel",children:(0,l.jsx)("span",{className:"btn-wrapper--label",children:"No"})}),(0,l.jsx)(r.Z,{onClick:function(){e.ok(),c()},className:"dialoge-confirm-btn",id:"dbox-ok",children:(0,l.jsx)("span",{className:"btn-wrapper--label",children:"Yes"})})]})]})})})}},86197:function(e,a,n){n(72791);var t=n(4998),s=n(46904),r=n(80184);a.Z=function(e){var a=e.label,n=e.value,i=e.onChange,l=e.name,o=e.error,d=e.helperText,c=e.type,u=e.disabled,m=e.format,f=void 0===m?"dd/MM/yyyy":m,h=e.placeholder,g=e.shrink,b=e.InputProps;return e.inputProps,(0,r.jsx)(t.Z,{fullWidth:!0,type:c||s.lD,className:"custom-text-field",label:a,value:n,onChange:i,placeholder:h||"",size:s.HC,name:l,error:o,helperText:d,disabled:u||!1,format:"date"===c?f:"",InputLabelProps:g?{shrink:g}:null,InputProps:b||null})}},58746:function(e,a,n){n.d(a,{Z:function(){return h}});var t=n(1413),s=n(45987),r=(n(72791),n(47630)),i=n(5289),l=n(65661),o=n(13400),d=n(29823),c=n(80184),u=["children","onClose"],m=(0,r.ZP)(i.Z)((function(e){var a=e.theme;return{"& .MuiDialogContent-root":{padding:a.spacing(2)},"& .MuiDialogActions-root":{padding:a.spacing(1)}}})),f=function(e){var a=e.children,n=e.onClose,r=(0,s.Z)(e,u);return(0,c.jsxs)(l.Z,(0,t.Z)((0,t.Z)({sx:{m:0,p:2,display:"flex",justify:"between"}},r),{},{children:[a,n?(0,c.jsx)(o.Z,{"aria-label":"close",onClick:n,sx:{background:"#FFFFFF",overflowY:"unset",position:"absolute",left:"92%",top:"6%",color:function(e){return e.palette.grey[500]},"&:hover":{background:"#FFFFFF"}},children:(0,c.jsx)(d.Z,{})}):null]}))};function h(e){var a=e.onClose,n=e.open,t=e.title,s=e.maxWidth,r=e.children;return(0,c.jsx)("div",{children:(0,c.jsxs)(m,{onClose:a,"aria-labelledby":"customized-dialog-title",fullWidth:!0,maxWidth:s||"md",open:n,className:"dialog-modal-cont dark:dialog-modal-cont-dark",children:[(0,c.jsx)(f,{className:"modal-box-header",id:"customized-dialog-title",onClose:a,children:(0,c.jsx)("span",{className:"p-2",children:t})}),r]})})}},23347:function(e,a,n){n(72791);var t=n(9955),s=n(80184);a.Z=function(e){var a=e.disabled,n=e.checked,r=e.handleChange;return(0,s.jsx)(t.Z,{disabled:a,checked:n||!1,onChange:r,className:"custom-switch"})}},57150:function(e,a,n){var t=n(74569),s=n.n(t),r=n(17406),i=s().create({baseURL:r.K});a.Z=i},8106:function(e,a,n){n.d(a,{D:function(){return r},E:function(){return s}});var t=n(763),s=function(){return new Promise((function(e){var a=localStorage.getItem("token");e(a?{headers:{authorization:"Bearer "+a}}:null)}))},r=function(e){var a="Something went wrong, Please try again.";return e.message&&(0,t.isArray)(e.message)?(a=e.message[0],a=!(0,t.isString)(a)&&(0,t.isArray)(a)?a[0]&&a[0].msg?a[0].msg:a[0]:a.msg):(e.message&&(0,t.isString)(e.message)&&(a=e.message),e.message&&(0,t.isString)(e.message)&&(a=e.message)),"Invalid login credentials. Please try again."===a&&(a="Email and password is invalid!"),a}},6177:function(e,a,n){n.d(a,{AX:function(){return m},WH:function(){return f},Wp:function(){return h},fo:function(){return c},qK:function(){return u}});var t,s,r,i,l,o=n(30168),d=n(87743),c=(0,d.Ps)(t||(t=(0,o.Z)(["\n  query Query(\n    $page: Int\n    $offset: Int\n    $userName: String\n    $email: String\n    $mobile: String\n    $role: String\n  ) {\n    users(\n      page: $page\n      offset: $offset\n      userName: $userName\n      email: $email\n      mobile: $mobile\n      role: $role\n    ) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        dob\n        role\n        mobile\n        walletAddress\n        address\n        enabled\n      }\n      count\n      current\n      total\n    }\n  }\n"]))),u=(0,d.Ps)(s||(s=(0,o.Z)(["\n  mutation Mutation($firstName: String, $lastName: String, $email: String) {\n    createUser(firstName: $firstName, lastName: $lastName, email: $email) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        role\n        mobile\n        walletAddress\n        enabled\n      }\n    }\n  }\n"]))),m=(0,d.Ps)(r||(r=(0,o.Z)(["\n  mutation Mutation(\n    $updateUserId: ID\n    $firstName: String\n    $lastName: String\n    $email: String\n    $dob: String\n    $walletAddress: String\n    $contactNumber: String\n    $address: String\n  ) {\n    updateUser(\n      id: $updateUserId\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      dob: $dob\n      walletAddress: $walletAddress\n      contactNumber: $contactNumber\n      address: $address\n    ) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        mobile\n        walletAddress\n        address\n        dob\n      }\n    }\n  }\n"]))),f=(0,d.Ps)(i||(i=(0,o.Z)(["\n  mutation EnableDisableUser($id: ID, $enabled: Boolean) {\n    enableDisableUser(id: $id, enabled: $enabled) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        role\n        mobile\n        walletAddress\n        enabled\n      }\n    }\n  }\n"]))),h=(0,d.Ps)(l||(l=(0,o.Z)(["\n  mutation AssignManagerRole($id: ID, $title: String) {\n    assignManagerRole(id: $id, title: $title) {\n      code\n      message\n      data {\n        id\n        firstName\n        lastName\n        email\n        role\n        mobile\n        walletAddress\n        enabled\n      }\n    }\n  }\n"])))},78914:function(e,a,n){n(72791)},42411:function(e,a,n){n.r(a),n.d(a,{default:function(){return le}});var t=n(72791),s=n(1413),r=n(74165),i=n(15861),l=n(70885),o=n(30373),d=n(62797),c=/^[A-Za-z][a-zA-Z ]+$/i,u={firstName:"",lastName:"",email:"",id:""},m=d.Ry().shape({firstName:d.Z_().required("First Name is required!").min("2","Min 2 characters required!").max("20","Maximum 20 characters allowed!").matches(c,"Only Alphabet is required!"),lastName:d.Z_().required("Last Name is required!").min("2","Min 2 characters required!").max("20","Maximum 20 characters allowed!").matches(c,"Only Alphabet is required!"),email:d.Z_().email("Invalid email address!").required("Email is required!")}),f=[{id:"select",numeric:!0,disablePadding:!0,label:"Select",sort:!0,class:"",align:"left"},{id:"firstName",numeric:!0,disablePadding:!0,label:"First Name",sort:!0,class:""},{id:"lastName",numeric:!0,disablePadding:!1,label:"Last Name",sort:!1,class:""},{id:"email",numeric:!0,disablePadding:!1,label:"Email",sort:!1,class:""},{id:"enabled",numeric:!0,disablePadding:!1,label:"Status",sort:!1,class:""},{id:"action",numeric:!0,disablePadding:!1,label:"Action",sort:!1,class:"",align:"center"}],h=n(7692),g=n(79836),b=n(53382),x=n(53994),Z=n(39281),N=n(13400),p=n(35855),v=n(20068),j=n(8793),w=n(59403),C=n(60515),S=n(75605),k=n(46904),y=n(78885),$=n(23179),P=n(23347),F=n(99911),A=n(80184);var E=function(e){var a=e.data,n=e.loading,d=e.onClickEdit,c=e.onHandleEnableChange,u=e.page,m=e.setPage,E=e.rowsPerPage,M=(e.handleChangePage,e.refreshAdminList,e.onResentInvitation),B=e.filterBy,D=e.isOpen,z=e.openFilterModal,I=(0,t.useState)([]),q=(0,l.Z)(I,2),L=q[0],U=q[1],R=(0,t.useState)([]),V=(0,l.Z)(R,2),W=V[0],H=V[1],_=(0,t.useState)(k.aW),O=(0,l.Z)(_,2),T=O[0],K=O[1],X=(0,t.useState)(S.wn),Y=(0,l.Z)(X,2),Q=Y[0],J=Y[1],G=(0,t.useState)(!1),ee=(0,l.Z)(G,2),ae=ee[0],ne=ee[1],te=(0,t.useState)({visible:!1}),se=(0,l.Z)(te,2),re=se[0],ie=se[1];(0,t.useEffect)((function(){a&&(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(a&&a.data&&a.data.length>0?a.data:[]),H(a&&a.data&&a.data.length>0?a.data:[]);case 2:case"end":return e.stop()}}),e)})))()}),[a]);var le=(0,t.useCallback)((function(e){e||U(W),U(function(e,a){return a.filter((function(a){var n=!1;return!n&&a.firstName&&(n=a.firstName.includes(e.toLowerCase())),!n&&a.lastName&&(n=a.lastName.includes(e.toLowerCase())),!n&&a.email&&(n=a.email.includes(e.toLowerCase())),n}))}(e,W))}),[W]),oe=(0,t.useCallback)((function(e,a){var n=Q===a&&T===k.aW;K(n?k.jo:k.aW),J(a)}),[T,Q]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(F.Z,(0,s.Z)({},re)),(0,A.jsx)(y.Z,{data:L,setData:H,page:u,count:a&&a.count,rowsPerPage:E,setPage:m,onSearch:le,type:"button",filterBy:B,disable:D,openFilterModal:z}),(0,A.jsx)(Z.Z,{className:"table-cont overflow-auto",children:(0,A.jsxs)(g.Z,{sx:{width:"100%"},"aria-labelledby":S.F_,children:[(0,A.jsx)(j.Z,{order:T,orderBy:Q,onRequestSort:oe,headCells:f}),(0,A.jsx)(b.Z,{children:n?(0,A.jsx)(C.Mb,{headCells:f}):L&&L.length>0?(0,w.XV)(L,(0,w.sQ)(T,Q)).map((function(e){return(0,A.jsxs)(p.Z,{children:[(0,A.jsx)(x.Z,{align:k.dv,className:"row-cell",children:(0,A.jsx)($.Z,{checked:ae,handleChange:function(){return ne(!ae)}})}),(0,A.jsx)(x.Z,{align:k.dv,className:"row-cell",children:e.firstName}),(0,A.jsx)(x.Z,{align:k.dv,className:"row-cell",children:e.lastName}),(0,A.jsx)(x.Z,{align:k.dv,className:"row-cell",children:e.email}),(0,A.jsx)(x.Z,{align:k.dv,className:"row-cell",children:(0,A.jsx)(v.Z,{title:e.enabled?"Broker Enabled":"Broker Disabled",children:(0,A.jsxs)("div",{children:[" ",(0,A.jsx)(P.Z,{disabled:!1,checked:e.enabled,handleChange:function(a){return n=a.target.checked,t=e.id,void ie({id:t,visible:!0,header:n?"Unsuspend Broker?":"Suspend Broker?",message:"Are you sure you want to do this?",key:Math.random().toString(36).substring(6),ok:function(){return c(n,t)}});var n,t}})]})})}),(0,A.jsx)(x.Z,{align:k.dv,className:"row-cell",children:(0,A.jsxs)("div",{className:"flex items-center justify-center",children:[(0,A.jsx)(v.Z,{title:"Edit Admin",children:(0,A.jsxs)("div",{children:[" ",(0,A.jsx)(N.Z,{"aria-label":k.dm,size:k.HC,onClick:function(){return d(e)},className:"dark:text-blue-600",children:(0,A.jsx)(o.EditIcon,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})})]})}),(0,A.jsx)(v.Z,{title:"Resend Email",children:(0,A.jsx)("div",{children:(0,A.jsx)(N.Z,{"aria-label":k.dm,size:k.HC,onClick:function(){return M(e.id)},className:"",children:(0,A.jsx)(h.Gko,{className:"h-6 w-6 text-primary"})})})})]})})]},e.id)})):(0,A.jsx)(C.zI,{headCells:f})})]})})]})};n(94021);n(78914);var M=n(24566),B=n(58746),D=n(55705),z=n(61889),I=n(39157),q=n(97123),L=n(12593),U=n(86197);var R=function(e){var a=e.loading,n=e.touched,s=e.values,r=e.errors,i=e.handleChange,l=e.handleSubmit,o=e.setFieldValue,d=e.actionState,c=e.admin;return(0,t.useEffect)((function(){c&&(o(S.wn,c.firstName?c.firstName:""),o(S.Kc,c.lastName?c.lastName:""),o(S.zP,c.email?c.email:""),o(S.rc,c.id))}),[c,o]),(0,A.jsxs)("form",{onSubmit:l,autoComplete:"off",children:[(0,A.jsxs)(I.Z,{dividers:!0,children:[(0,A.jsxs)(z.ZP,{container:!0,children:[(0,A.jsx)(z.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,A.jsx)(U.Z,{label:S.rU,value:s.firstName,onChange:i,name:S.wn,error:n.firstName&&Boolean(r.firstName),helperText:n.firstName&&r.firstName})}),(0,A.jsx)(z.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,A.jsx)(U.Z,{label:S.Yt,value:s.lastName,onChange:i,name:S.Kc,error:n.lastName&&Boolean(r.lastName),helperText:n.lastName&&r.lastName})})]}),(0,A.jsx)(z.ZP,{container:!0,children:(0,A.jsx)(z.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,A.jsx)(U.Z,{type:S.zP,label:S.xK,value:s.email,onChange:i,name:S.zP,error:n.email&&Boolean(r.email),helperText:n.email&&r.email})})})]}),(0,A.jsx)(q.Z,{className:"modal-box-footer",children:(0,A.jsx)(L.Z,{disable:a,loading:a,actionState:d})})]})};var V=function(e){var a=e.loading,n=e.onHandleSubmit,t=e.onClose,s=e.actionState,r=e.admin;return(0,A.jsx)(D.J9,{initialValues:u,onSubmit:function(e,a){n(e,a)},validationSchema:m,children:function(e){var n=e.touched,i=e.values,l=e.errors,o=e.handleChange,d=e.handleSubmit,c=e.setFieldValue;return(0,A.jsx)(R,{onClose:t,loading:a,values:i,handleChange:o,handleSubmit:d,setFieldValue:c,errors:l,touched:n,actionState:s,admin:r})}})},W=n(24518),H="firstName",_="lastName",O="email",T=function(e){e.loading;var a=e.touched,n=e.values,s=e.errors,r=e.handleChange,i=e.handleSubmit,l=e.setFieldValue,o=e.resetForm,d=(e.actionState,e.filter),c=(e.setFilterObject,e.onResetFilterModal);return(0,t.useEffect)((function(){d&&(l(H,d.firstName),l(_,d.lastName),l(O,d.email))}),[d,l]),(0,A.jsxs)("form",{onSubmit:i,autoComplete:"off",children:[(0,A.jsx)(I.Z,{dividers:!0,children:(0,A.jsxs)(z.ZP,{container:!0,children:[(0,A.jsx)(z.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,A.jsx)(U.Z,{label:"First Name",value:n.firstName,onChange:r,name:H,error:a.firstName&&Boolean(s.firstName),helperText:a.firstName&&s.firstName})}),(0,A.jsx)(z.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,className:"p-2",children:(0,A.jsx)(U.Z,{label:"Last Name",value:n.lastName,onChange:r,name:_,error:a.lastName&&Boolean(s.lastName),helperText:a.lastName&&s.lastName})}),(0,A.jsx)(z.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,className:"p-2",children:(0,A.jsx)(U.Z,{label:"Email",value:n.email,onChange:r,name:O,error:a.email&&Boolean(s.email),helperText:a.email&&s.email})})]})}),(0,A.jsxs)(q.Z,{className:"modal-box-footer",children:[(0,A.jsx)(W.Z,{className:"filter-reset-btn",onClick:function(){o(),c()},children:"Reset"}),(0,A.jsx)(W.Z,{type:"submit",className:"filter-filter-btn",children:"Filter"})]})]})},K=/^[A-Za-z][a-zA-Z ]+$/i,X={firstName:"",lastName:"",email:"",id:""},Y=d.Ry().shape({firstName:d.Z_().min("2","Min 2 characters required!").matches(K,"Only Alphabets are allowed!"),lastName:d.Z_().min("2","Min 2 characters required!").matches(K,"Only Alphabets are allowed!"),email:d.Z_().matches(/^[A-Za-z][a-zA-Z0-9@. ]+$/i,'Only Alphabets, "@" and "." and Numbers are allowed!')}),Q=function(e){var a=e.loading,n=e.onHandleSubmit,t=e.onClose,s=e.actionState,r=e.filter,i=e.setFilterObject,l=e.onResetFilterModal;return(0,A.jsx)(D.J9,{initialValues:X,onSubmit:function(e,a){n(e,a)},validationSchema:Y,children:function(e){var n=e.touched,o=e.values,d=e.errors,c=e.handleChange,u=e.handleSubmit,m=e.setFieldValue,f=e.resetForm;return(0,A.jsx)(T,{onClose:t,loading:a,values:o,handleChange:c,handleSubmit:u,setFieldValue:m,resetForm:f,errors:d,touched:n,actionState:s,filter:r,setFilterObject:i,onResetFilterModal:l})}})},J=n(49988),G=n(60469),ee=n(96578),ae=n(84376),ne=n(6177),te=n(28886),se=n(24254),re=n(3383);var ie=function(){var e=(0,t.useState)(null),a=(0,l.Z)(e,2),n=a[0],o=a[1],d=(0,t.useState)(!1),c=(0,l.Z)(d,2),u=c[0],m=c[1],f=(0,t.useState)(!1),h=(0,l.Z)(f,2),g=h[0],b=h[1],x=(0,t.useState)(!1),Z=(0,l.Z)(x,2),N=Z[0],p=Z[1],v=(0,t.useState)(null),j=(0,l.Z)(v,2),w=j[0],C=j[1],S=(0,t.useState)(1),y=(0,l.Z)(S,2),$=y[0],P=y[1],F=(0,t.useState)("initial"),D=(0,l.Z)(F,2),z=D[0],I=D[1],q=(0,t.useState)(null),L=(0,l.Z)(q,2),U=L[0],R=L[1],W=(0,t.useState)({page:$,offset:k.n}),H=(0,l.Z)(W,2),_=H[0],O=H[1],T=(0,ee.a)(ne.fo,{variables:_}),K=T.refetch,X=T.loading,Y=(T.error,T.data),ie=(0,ae.D)(ne.qK),le=(0,l.Z)(ie,1)[0],oe=(0,ae.D)(ne.AX),de=(0,l.Z)(oe,1)[0],ce=(0,ae.D)(ne.WH),ue=(0,l.Z)(ce,1)[0];(0,t.useEffect)((function(){(0,i.Z)((0,r.Z)().mark((function e(){var a,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=8;break}return e.next=3,K(_);case 3:return a=e.sent,e.next=6,(0,se.LZ)(a,"users");case 6:n=e.sent,o(n&&n);case 8:case"end":return e.stop()}}),e)})))()}),[_]),(0,t.useEffect)((function(){Y&&(0,i.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,se.LZ)(Y,"users");case 2:a=e.sent,o(a&&a);case 4:case"end":return e.stop()}}),e)})))()}),[Y]),(0,t.useEffect)((function(){if(U){var e={};U.firstName&&""!==U.firstName&&(e=(0,s.Z)((0,s.Z)({},e),{},{userName:U.firstName+" "})),U.lastName&&""!==U.lastName&&(e=(0,s.Z)((0,s.Z)({},e),{},{userName:U.firstName+" "+U.lastName})),U.email&&""!==U.email&&(e=(0,s.Z)((0,s.Z)({},e),{},{email:U.email})),e=(0,s.Z)((0,s.Z)({},e),{},{page:$,offset:k.n}),O(e)}}),[U]);var me=(0,t.useCallback)((function(e,a){P(a)}),[]),fe=(0,t.useCallback)((function(){p(!1),C(null),m(!1)}),[]),he=(0,t.useCallback)((function(){p(!1),C(null),m(!0)}),[]),ge=(0,t.useCallback)((function(){I("open"),m(!0)}),[]),be=(0,t.useCallback)((function(){I("initial"),m(!1)}),[]),xe=(0,t.useCallback)((function(){R({page:$,offset:k.n})}),[]),Ze=(0,t.useCallback)((function(e){R(e)}),[]),Ne=(0,t.useCallback)((function(e){p(!0),C(e),m(!0)}),[]),pe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue({variables:{id:n,enabled:a}});case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,(0,se.LZ)(t,"enableDisableUser");case 6:s=e.sent;case 7:s&&200===s.code?(0,J.V)(s.message):(0,J.v)(s.message);case 8:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),ve=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.U_)(a);case 2:200===(n=e.sent).status?(0,J.V)(n.message):(0,J.v)(n.message);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),je=function(){K()},we=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,n){var t,s,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),N){e.next=11;break}return e.next=4,le({variables:{firstName:a.firstName,lastName:a.lastName,email:a.email}});case 4:return t=e.sent,e.next=7,(0,se.LZ)(t,"createUser");case 7:200===(s=e.sent).code?(b(!1),(0,J.V)(s.message),n.resetForm(),fe()):(b(!1),(0,J.v)(s.message)),e.next=18;break;case 11:return e.next=13,de({variables:{updateUserId:a.id,firstName:a.firstName,lastName:a.lastName,email:a.email}});case 13:return i=e.sent,e.next=16,(0,se.LZ)(i,"updateUser");case 16:200===(l=e.sent).code?(b(!1),K(),(0,J.V)(l.message),n.resetForm(),fe()):(b(!1),(0,J.v)(l.message));case 18:je();case 19:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ze(a);case 1:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}();return(0,A.jsxs)("div",{className:"w-full h-full",children:[(0,A.jsx)("span",{children:(0,A.jsx)(re.Z,{value:"Add New Broker",className:"add-new-btn",variant:"contained",disabled:X,onClick:he})}),(0,A.jsx)(te.Z,{type:G.DN,currencyType:G.DN,refetch:je,handleModalOpen:he}),(0,A.jsx)(E,{data:n,loading:X,onClickEdit:Ne,onHandleEnableChange:pe,page:$,setPage:P,rowsPerPage:k.n,handleChangePage:me,onResentInvitation:ve,refreshAdminList:je,filterBy:z,disable:u,openFilterModal:ge}),"initial"===z?(0,A.jsx)(B.Z,{maxWidth:"sm",open:u,onClose:fe,title:N?"Edit Admin":"Create Broker",children:(0,A.jsx)(V,{onHandleSubmit:we,loading:g,onClose:fe,actionState:N,admin:w})}):(0,A.jsx)(B.Z,{maxWidth:"sm",open:u,onClose:be,title:"Filter Brokers",children:(0,A.jsx)(Q,{onHandleSubmit:Ce,loading:g,onClose:be,actionState:N,filter:U,setFilterObject:Ze,onResetFilterModal:xe})})]})};var le=function(){return(0,t.useEffect)((function(){window.scrollTo(0,0)}),[]),(0,A.jsx)("div",{className:"h-full w-full overflow-hidden",children:(0,A.jsx)(ie,{})})}},24566:function(e,a,n){n.d(a,{U_:function(){return o}});var t=n(74165),s=n(1413),r=n(15861),i=n(57150),l=n(8106),o=(n(763),function(){var e=(0,r.Z)((0,t.Z)().mark((function e(a){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={loading:!1,status:210,message:"Something went wrong, Please try again."},e.next=3,(0,l.E)();case 3:return r=e.sent,e.abrupt("return",i.Z.get("/admin/admins/".concat(a,"/resentInvitation"),r).then((function(e){return e.data&&200===e.data.code?(e=e.data,(0,s.Z)((0,s.Z)({},n),{},{status:200,message:e.message})):(0,s.Z)((0,s.Z)({},n),{},{message:(0,l.D)(e.data)})})).catch((function(e){return(0,s.Z)((0,s.Z)({},n),{},{message:(0,l.D)(e.response&&e.response.data?e.response.data:e.message)})})));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=411.b0c41bbe.chunk.js.map